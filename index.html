<!doctype html>
<html lang="pt-BR">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta name="theme-color" content="#0f172a" />
		<title>Transforme Carbono em Permanência — Captura de Leads IES</title>

		<!-- Tailwind (Play CDN para protótipo rápido) -->
		<script src="https://cdn.tailwindcss.com"></script>
		<script>
			tailwind.config = {
				theme: {
					extend: {
						colors: {
							base: '#0f172a', // slate-900
							text: '#f1f5f9', // slate-100
							sub: '#94a3b8', // slate-400
							brand: '#22c55e', // green-500
							brandDark: '#16a34a', // green-600
							danger: '#ef4444', // red-500
						},
						fontFamily: {
							display: ['Space Grotesk', 'system-ui', 'sans-serif'],
							sans: ['Inter', 'system-ui', 'sans-serif'],
						},
						keyframes: {
							fadeInUp: {
								'0%': { opacity: 0, transform: 'translateY(8px)' },
								'100%': { opacity: 1, transform: 'translateY(0)' },
							},
							floatY: {
								'0%, 100%': { transform: 'translateY(0)' },
								'50%': { transform: 'translateY(-6px)' },
							},
							pulseSoft: {
								'0%, 100%': { opacity: 0.35 },
								'50%': { opacity: 0.55 },
							},
							spinner: {
								'0%': { transform: 'rotate(0deg)' },
								'100%': { transform: 'rotate(360deg)' },
							},
						},
						animation: {
							fadeInUp: 'fadeInUp 500ms ease-out forwards',
							floatY: 'floatY 6s ease-in-out infinite',
							pulseSoft: 'pulseSoft 4s ease-in-out infinite',
							spinner: 'spinner 0.9s linear infinite',
						},
						dropShadow: {
							glow: '0 0 12px rgba(34, 197, 94, 0.25)',
						},
					},
				},
			};
		</script>

		<!-- Google Fonts (leve e legível) -->
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Space+Grotesk:wght@600;700&display=swap" rel="stylesheet" />

		<style>
			/* Camada de ruído sutil para profundidade sem usar gradientes fortes */
			.noise {
				position: fixed;
				inset: -10%;
				pointer-events: none;
				background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="120" height="120" viewBox="0 0 120 120"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="2" stitchTiles="stitch"/></filter><rect width="120" height="120" filter="url(%23n)" opacity="0.025"/></svg>');
				background-size: 240px 240px;
				opacity: 0.25;
				mix-blend-mode: soft-light;
			}

				/* Respeitar usuários com preferência por menos movimento */
				@media (prefers-reduced-motion: reduce) {
					*:not(.noise) {
						animation: none !important;
						transition: none !important;
					}
				}
		</style>
	</head>
	<body class="bg-base text-text antialiased font-sans">
		<!-- Fundo minimalista com ornamentos sutis (CO₂) -->
		<div aria-hidden="true" class="pointer-events-none fixed inset-0 overflow-hidden">
			<div class="absolute -left-6 top-20 text-sub/20 select-none text-xs sm:text-sm animate-floatY">CO₂</div>
			<div class="absolute right-6 bottom-24 text-sub/20 select-none text-xs sm:text-sm animate-floatY" style="animation-delay:1.2s">CO₂</div>
			<div class="absolute left-8 bottom-10 text-sub/20 select-none text-xs sm:text-sm animate-floatY" style="animation-delay:2.4s">CO₂</div>
		</div>
		<div class="noise"></div>

		<!-- Conteúdo principal -->
		<main class="min-h-dvh grid place-items-center p-5">
			<section class="w-full max-w-md">
				<!-- Logo + marca -->
						<div class="flex items-center gap-3 mb-8 animate-fadeInUp">
							<img src="logo.png" alt="Logo da consultoria" class="h-10 w-10 object-contain brightness-110 drop-shadow-glow" />
					<p class="text-sub text-sm">Do Carbono à Educação</p>
				</div>

				<!-- Hero copy -->
						<header class="mb-8 animate-fadeInUp" style="animation-delay:120ms">
					<h1 class="font-display text-4xl leading-[1.05] font-bold tracking-tight sm:text-5xl">
						<span class="block">Transforme Carbono</span>
						<span class="block text-text/90">em Permanência</span>
					</h1>
					<p class="text-sub mt-4 text-base sm:text-lg max-w-prose">
						Sua IES pode gerar créditos de carbono e financiar a retenção de alunos em até 60 dias.
					</p>
				</header>

						<!-- Formulário (Netlify Forms) -->
						<form id="lead-form" name="lead" method="POST" data-netlify="true" netlify-honeypot="bot-field" class="space-y-3" novalidate>
							<input type="hidden" name="form-name" value="lead" />
							<p class="hidden">
								<label>Não preencha: <input name="bot-field" /></label>
							</p>
					<div class="relative group">
						<label for="email" class="sr-only">Email institucional</label>
												<input id="email" name="email" type="email" inputmode="email" autocomplete="email"
							placeholder="Seu melhor email institucional"
										class="w-full h-14 rounded-2xl bg-white/5 text-text placeholder:text-sub/60 px-5 pr-12 outline-none border border-white/10 focus:border-brand/50 focus:ring-4 focus:ring-brand/20 transition-all transform-gpu focus:scale-[1.01]"
							aria-describedby="email-help email-error"
							required />

						<!-- Ícone de validação -->
						<div id="email-valid" class="pointer-events-none absolute right-4 top-1/2 -translate-y-1/2 hidden text-brand" aria-hidden="true">
							<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 6L9 17l-5-5"/></svg>
						</div>
						<div id="email-invalid" class="pointer-events-none absolute right-4 top-1/2 -translate-y-1/2 hidden text-danger" aria-hidden="true">
							<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="m15 9-6 6M9 9l6 6"/></svg>
						</div>

						<p id="email-help" class="mt-2 text-[13px] text-sub/70">✓ Sem investimento inicial • ✓ Resultado em 60 dias</p>
						<p id="email-error" class="mt-1 text-sm text-danger hidden" aria-live="polite">Por favor, insira um email institucional válido.</p>
					</div>

								<button id="submit-btn" type="submit"
									class="w-full h-14 rounded-2xl bg-brand hover:bg-brandDark text-base font-semibold tracking-tight text-white shadow-sm hover:shadow-md transition active:scale-[0.99] focus:outline-none focus:ring-4 focus:ring-brand/30">
						<span class="inline-flex items-center justify-center gap-2">
							<span id="btn-label">Quero Transformar Minha IES</span>
							<span id="btn-spinner" class="hidden w-5 h-5 border-2 border-white/40 border-t-white rounded-full animate-spinner"></span>
							<span id="btn-check" class="hidden text-white">
								<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 6L9 17l-5-5"/></svg>
							</span>
						</span>
					</button>

					<p class="text-xs text-sub/70">Privacidade: usaremos seu email somente para contato sobre este projeto.</p>
				</form>

				<!-- Sucesso -->
			<div id="success" class="hidden mt-10 animate-fadeInUp" aria-live="polite">
					<p class="text-brand font-semibold mb-2">✓ Email capturado!</p>
					<h2 class="font-display text-2xl font-bold">Obrigado pelo interesse!</h2>
					<p class="text-sub mt-2">Nossa equipe entrará em contato em até 48h para:</p>
					<ul class="text-sub mt-3 space-y-1 list-disc list-inside">
						<li>Calcular o potencial de créditos da sua IES</li>
						<li>Apresentar projeção de recursos para permanência</li>
						<li>Agendar diagnóstico gratuito</li>
					</ul>
					<div class="mt-6 flex items-center gap-3">
						<a id="share-linkedin" href="#" target="_blank" rel="noopener" class="inline-flex items-center justify-center rounded-xl h-11 px-4 bg-white/10 hover:bg-white/15 text-text text-sm font-semibold transition">
							Compartilhar no LinkedIn
						</a>
						<button id="send-another" class="inline-flex items-center justify-center rounded-xl h-11 px-4 text-sm font-semibold text-text/80 hover:text-text transition">
							Enviar outro email
						</button>
					</div>
				</div>

				<!-- Rodapé mínimo em desktop -->
				<footer class="mt-10 text-[13px] text-sub/60">
					<span class="hidden sm:inline">© <span id="year"></span> Consultoria — </span>
					<span>Do carbono à educação, com simplicidade.</span>
				</footer>
			</section>
		</main>

			<script>
				// Utilidades simples
			const $ = (id) => document.getElementById(id);
			const form = $('lead-form');
			const emailInput = $('email');
			const emailValidIcon = $('email-valid');
			const emailInvalidIcon = $('email-invalid');
			const emailError = $('email-error');
			const submitBtn = $('submit-btn');
			const btnLabel = $('btn-label');
			const btnSpinner = $('btn-spinner');
			const btnCheck = $('btn-check');
			const successBox = $('success');
			const yearEl = $('year');
			if (yearEl) yearEl.textContent = new Date().getFullYear();

					// Compartilhar no LinkedIn com a URL atual (ajuste se necessário)
			const share = $('share-linkedin');
			if (share) {
				const url = encodeURIComponent(location.href);
				share.href = `https://www.linkedin.com/sharing/share-offsite/?url=${url}`;
			}

			const sendAnother = $('send-another');
			if (sendAnother) {
				sendAnother.addEventListener('click', () => {
					successBox.classList.add('hidden');
					form.classList.remove('hidden');
					emailInput.focus();
				});
			}

					// Validação mínima de email (HTML5 + regex simples)
			const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/i;
			function isValidEmail(value) {
				return emailRegex.test(String(value).trim());
			}

			function setFieldState({ valid = null, message = '' } = {}) {
				if (valid === true) {
					emailInvalidIcon.classList.add('hidden');
					emailValidIcon.classList.remove('hidden');
					emailError.classList.add('hidden');
					emailInput.classList.remove('border-danger/40');
					emailInput.classList.add('border-white/10');
				} else if (valid === false) {
					emailValidIcon.classList.add('hidden');
					emailInvalidIcon.classList.remove('hidden');
					emailError.textContent = message || 'Por favor, insira um email institucional válido.';
					emailError.classList.remove('hidden');
					emailInput.classList.remove('border-white/10');
					emailInput.classList.add('border-danger/40');
				} else {
					emailValidIcon.classList.add('hidden');
					emailInvalidIcon.classList.add('hidden');
					emailError.classList.add('hidden');
					emailInput.classList.remove('border-danger/40');
					emailInput.classList.add('border-white/10');
				}
			}

			function setLoading(loading) {
				submitBtn.disabled = loading;
				if (loading) {
					btnLabel.textContent = 'Enviando…';
					btnSpinner.classList.remove('hidden');
					btnCheck.classList.add('hidden');
				} else {
					btnSpinner.classList.add('hidden');
					btnLabel.textContent = 'Quero Transformar Minha IES';
				}
			}

			function setSuccess() {
				btnSpinner.classList.add('hidden');
				btnCheck.classList.remove('hidden');
				submitBtn.classList.add('bg-brandDark');
				submitBtn.classList.remove('hover:bg-brandDark');
				submitBtn.disabled = true;
				form.classList.add('hidden');
				successBox.classList.remove('hidden');
			}

					// Submissão para Netlify Forms
					function encodeFormData(data) {
						return new URLSearchParams(data).toString();
					}

					async function submitToNetlify(formEl) {
						const fd = new FormData(formEl);
						if (!fd.get('form-name')) fd.append('form-name', formEl.getAttribute('name') || 'lead');
						// Inclui metadados úteis (não são exibidos no formulário, mas vão para o registro)
						fd.append('userAgent', navigator.userAgent);
						fd.append('referrer', document.referrer || '');
						try {
							await fetch('/', {
								method: 'POST',
								headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
								body: encodeFormData(fd)
							});
							return { success: true };
						} catch (err) {
							console.error(err);
							return { success: false };
						}
					}

			// Eventos
			emailInput.addEventListener('input', () => {
				const v = emailInput.value;
				if (!v) return setFieldState({ valid: null });
				setFieldState({ valid: isValidEmail(v) });
			});

					form.addEventListener('submit', async (e) => {
				e.preventDefault();
				const email = String(emailInput.value).trim();
				if (!isValidEmail(email)) {
					setFieldState({ valid: false });
					emailInput.focus();
					return;
				}

				setFieldState({ valid: true });
				setLoading(true);
						const { success } = await submitToNetlify(form);
				if (success) {
					setSuccess();
				} else {
					setLoading(false);
					setFieldState({ valid: false, message: 'Ops! Algo deu errado. Tente novamente.' });
				}
			});
		</script>
	</body>
</html>
